<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="settings_title">Settings</title>
    <link rel="stylesheet" href="../CSS/Style_index.css">
    <link rel="stylesheet" href="../CSS/App9.css">
</head>
<body>
    <div class="ipad">
        <div class="screen">
            <div class="patient">
                <div id="patientName">Patient Name: [Name]</div>
                <div id="patientID">Patient ID: [ID]</div>
            </div>
            <div class="clock" id="liveClock">17:21</div>

            <!-- Language Selection Dropdown -->
            <div class="settings">
                <label for="languageSelect" data-translate="choose_language">Choose Language:</label>
                <select id="languageSelect">
                    <option value="en" selected>English</option>
                    <option value="nl">Dutch</option>
                    <option value="pl">Polish</option>
                </select>
            </div>

            <a href="../HomeScreen.html" class="back-button" data-translate="back_button">Back</a> <!-- Back button -->
        </div>
        <a href="../HomeScreen.html" class="home-button"></a>
    </div>

    <script src="../Scripts/Clock.js"></script>
    <script src="../Scripts/Language.js"></script>
    <script src="../Scripts/Config.js"></script>
    <script src="../Scripts/AutomaticOff.js"></script>
    <script src="../Scripts/Patient.js"></script>
    <script>
        // settings.js
        document.addEventListener('DOMContentLoaded', function() {
            const languageSelect = document.getElementById('languageSelect');
            
            // Initialize the dropdown with saved language or default to 'en'
            const savedLanguage = localStorage.getItem('language') || 'en';
            languageSelect.value = savedLanguage;

            // Update language when user changes selection
            languageSelect.addEventListener('change', function() {
                const selectedLanguage = languageSelect.value;
                localStorage.setItem('language', selectedLanguage);
                loadLanguage(selectedLanguage);  // Call the function from language.js to apply the translation immediately
            });
        });
    </script>
</body>
</html>
